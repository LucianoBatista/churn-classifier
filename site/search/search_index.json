{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Desafio de Churn Churn de Clientes O desafio de prever se um cliente ir\u00e1 sair da Base de Clientes Ativos (tamb\u00e9m conhecido como churn) n\u00e3o \u00e9 um problema exclusivo do varejo, sendo uma \u00e1rea de estudos constante da maioria das ind\u00fastrias e empresas de servi\u00e7os que dependem da reten\u00e7\u00e3o. A solu\u00e7\u00e3o traz muito valor, se tiver alto \u00edndice de acertos pode ser usada para elencar automaticamente clientes com alto risco de churn para uma promo\u00e7\u00e3o agressiva com o objetivo ret\u00ea-lo na base. Tamb\u00e9m h\u00e1 muito valor nos insights e na valida\u00e7\u00e3o de hip\u00f3teses que acontece durante o processo de an\u00e1lise do problema e das solu\u00e7\u00f5es. Pode-se verificar atrav\u00e9s de experimenta\u00e7\u00e3o que, por exemplo, um cliente que compra exclusivamente em datas especiais ou eventos promocionais tem uma chance menor de ser um churn do que um que compra grandes volumes do mesmo produto. Objetivos do Desafio Nesse desafio, constru\u00eddo em uma parceria da Tera e o Luizalabs, o objetivo principal ser\u00e1 construir algumas solu\u00e7\u00f5es baseadas em machine learning para prever se um dado cliente do e-commerce do Magalu continuar\u00e1 comprando na plataforma em 2020 usando algumas caracter\u00edsticas pr\u00f3prias do cliente e seu hist\u00f3rico de compras no ano anterior. No final, algumas dessas solu\u00e7\u00f5es devem ser combinadas em um ensemble para criar uma solu\u00e7\u00e3o \u00fanica com o objetivo de alavancar ainda mais os resultados. Para que o objetivo principal seja cumprido, ser\u00e1 necess\u00e1rio construir uma forma de visualiza\u00e7\u00e3o das solu\u00e7\u00f5es criadas e a compara\u00e7\u00e3o com o modelo baseline e com o modelo de ensemble criados no processo . O formato sugerido \u00e9 um tabela de resultados contendo as m\u00e9tricas de sucesso de cada modelo criado. O objetivo secund\u00e1rio \u00e9 o levantamento de hip\u00f3teses e insights que surgirem durante as experimenta\u00e7\u00f5es. \u00c9 interessante fazer isso desde o in\u00edcio como parte da an\u00e1lise explorat\u00f3ria, documentando qualquer ind\u00edcio de informa\u00e7\u00e3o nova sobre o problema. Tamb\u00e9m \u00e9 uma boa pr\u00e1tica avaliar os modelos treinados, seja atrav\u00e9s da explora\u00e7\u00e3o de seus par\u00e2metros (por exemplo, os pesos de um modelo linear ) ou usando t\u00e9cnicas avan\u00e7adas como o SHAP , buscando relacionar como as features influenciam as respostas do modelo. A forma mais simples de cumprir o objetivo secund\u00e1rio \u00e9 a documenta\u00e7\u00e3o das etapas de an\u00e1lise e explora\u00e7\u00e3o de forma resumida em um relat\u00f3rio que compila as principais hip\u00f3teses e insights. Esse relat\u00f3rio pode ser um documento de texto na forma de um di\u00e1rio de bordo ou mesmo uma se\u00e7\u00e3o do pr\u00f3prio notebook em que a solu\u00e7\u00e3o foi desenvolvida. Pontua\u00e7\u00e3o no Desafio O desafio tamb\u00e9m possui um dataset de pontua\u00e7\u00e3o, contendo dados de clientes que n\u00e3o est\u00e3o nem nas bases de treino nem nas de teste. Para esses clientes n\u00e3o foram disponibilizadas as respostas (targets), sendo portanto imposs\u00edvel verificar durante o desenvolvimento da solu\u00e7\u00e3o se o modelo est\u00e1 acertando ou n\u00e3o. O objetivo desse dataset \u00e9 permitir, de forma justa, que os alunos possam comparar suas melhores solu\u00e7\u00f5es com as dos outros. Atrav\u00e9s desse link \u00e9 poss\u00edvel fazer o envio do arquivo de respostas do desafio. No fim do desafio, ser\u00e1 mostrado o ranking dos envios dos alunos. Let the Games Begin! =","title":"Home"},{"location":"#desafio-de-churn","text":"","title":"Desafio de Churn"},{"location":"#churn-de-clientes","text":"O desafio de prever se um cliente ir\u00e1 sair da Base de Clientes Ativos (tamb\u00e9m conhecido como churn) n\u00e3o \u00e9 um problema exclusivo do varejo, sendo uma \u00e1rea de estudos constante da maioria das ind\u00fastrias e empresas de servi\u00e7os que dependem da reten\u00e7\u00e3o. A solu\u00e7\u00e3o traz muito valor, se tiver alto \u00edndice de acertos pode ser usada para elencar automaticamente clientes com alto risco de churn para uma promo\u00e7\u00e3o agressiva com o objetivo ret\u00ea-lo na base. Tamb\u00e9m h\u00e1 muito valor nos insights e na valida\u00e7\u00e3o de hip\u00f3teses que acontece durante o processo de an\u00e1lise do problema e das solu\u00e7\u00f5es. Pode-se verificar atrav\u00e9s de experimenta\u00e7\u00e3o que, por exemplo, um cliente que compra exclusivamente em datas especiais ou eventos promocionais tem uma chance menor de ser um churn do que um que compra grandes volumes do mesmo produto.","title":" Churn de Clientes"},{"location":"#objetivos-do-desafio","text":"Nesse desafio, constru\u00eddo em uma parceria da Tera e o Luizalabs, o objetivo principal ser\u00e1 construir algumas solu\u00e7\u00f5es baseadas em machine learning para prever se um dado cliente do e-commerce do Magalu continuar\u00e1 comprando na plataforma em 2020 usando algumas caracter\u00edsticas pr\u00f3prias do cliente e seu hist\u00f3rico de compras no ano anterior. No final, algumas dessas solu\u00e7\u00f5es devem ser combinadas em um ensemble para criar uma solu\u00e7\u00e3o \u00fanica com o objetivo de alavancar ainda mais os resultados. Para que o objetivo principal seja cumprido, ser\u00e1 necess\u00e1rio construir uma forma de visualiza\u00e7\u00e3o das solu\u00e7\u00f5es criadas e a compara\u00e7\u00e3o com o modelo baseline e com o modelo de ensemble criados no processo . O formato sugerido \u00e9 um tabela de resultados contendo as m\u00e9tricas de sucesso de cada modelo criado. O objetivo secund\u00e1rio \u00e9 o levantamento de hip\u00f3teses e insights que surgirem durante as experimenta\u00e7\u00f5es. \u00c9 interessante fazer isso desde o in\u00edcio como parte da an\u00e1lise explorat\u00f3ria, documentando qualquer ind\u00edcio de informa\u00e7\u00e3o nova sobre o problema. Tamb\u00e9m \u00e9 uma boa pr\u00e1tica avaliar os modelos treinados, seja atrav\u00e9s da explora\u00e7\u00e3o de seus par\u00e2metros (por exemplo, os pesos de um modelo linear ) ou usando t\u00e9cnicas avan\u00e7adas como o SHAP , buscando relacionar como as features influenciam as respostas do modelo. A forma mais simples de cumprir o objetivo secund\u00e1rio \u00e9 a documenta\u00e7\u00e3o das etapas de an\u00e1lise e explora\u00e7\u00e3o de forma resumida em um relat\u00f3rio que compila as principais hip\u00f3teses e insights. Esse relat\u00f3rio pode ser um documento de texto na forma de um di\u00e1rio de bordo ou mesmo uma se\u00e7\u00e3o do pr\u00f3prio notebook em que a solu\u00e7\u00e3o foi desenvolvida.","title":" Objetivos do Desafio"},{"location":"#pontuacao-no-desafio","text":"O desafio tamb\u00e9m possui um dataset de pontua\u00e7\u00e3o, contendo dados de clientes que n\u00e3o est\u00e3o nem nas bases de treino nem nas de teste. Para esses clientes n\u00e3o foram disponibilizadas as respostas (targets), sendo portanto imposs\u00edvel verificar durante o desenvolvimento da solu\u00e7\u00e3o se o modelo est\u00e1 acertando ou n\u00e3o. O objetivo desse dataset \u00e9 permitir, de forma justa, que os alunos possam comparar suas melhores solu\u00e7\u00f5es com as dos outros. Atrav\u00e9s desse link \u00e9 poss\u00edvel fazer o envio do arquivo de respostas do desafio. No fim do desafio, ser\u00e1 mostrado o ranking dos envios dos alunos. Let the Games Begin! =","title":" Pontua\u00e7\u00e3o no Desafio"},{"location":"eda/","text":"An\u00e1lise Explorat\u00f3ria de Dados Antes de iniciar, vamos deixar claro o que representa um churn aqui nesse desafio. Churn \u00e9 todo cliente que deixa de comprar na Magalu ap\u00f3s um certo per\u00edodo de tempo. Iremos iniciar nossa an\u00e1lise pelo dataset de treino, por\u00e9m parte dessa an\u00e1lise foi aplicada no dataset de teste no intuito de ver se alguns padr\u00f5es se repetiam, j\u00e1 que a base de teste foi fornecida pelo desafio. Lembrando que o c\u00f3digo completo e os notebooks com todas as EDAs podem ser encontrados no reposit\u00f3rio . Como estamos falando de um problema de classifica\u00e7\u00e3o, vale a pena iniciar a an\u00e1lise entendendo como os dados est\u00e3o balanceados. Quanto nosso dado est\u00e1 desbalanceado? # is_churn proportion df = client_tr [ \"is_churn\" ] . value_counts ( normalize = True ) . reset_index () _ = sns . countplot ( x = \"is_churn\" , data = client_tr ) plt . show () Aqui vemos que nossos dados est\u00e1 numa propor\u00e7\u00e3o de 82% sendo n\u00e3o ocorr\u00eancia de churn, contra 18% que efetivamente deram churn. Esse desbalanceamento pode impactar na etapa de modelagem, sendo assim, uma abordagem interessante seria aplica\u00e7\u00e3o de alguma t\u00e9cnica de balanceamento. Como as idades est\u00e3o distribu\u00eddas? Achei mais \u00fatil converter a vari\u00e1vel de data de nascimento ( birthdate ) em idade. Ap\u00f3s fazer essa convers\u00e3o, foi poss\u00edvel observar como a vari\u00e1vel est\u00e1 se comportando em rela\u00e7\u00e3o ao nosso target. # convertendo em idade client_tr [ \"age\" ] = datetime . date . today () . year - client_tr [ \"birthdate\" ] . dt . year # plotting _ = sns . ecdfplot ( x = \"age\" , data = client_tr , hue = \"is_churn\" ) plt . show () Pelas distribui\u00e7\u00f5es, vemos que existe uma maior propor\u00e7\u00e3o de churn em pessoas com idades mais avan\u00e7adas. E essa \u00e9 a distribui\u00e7\u00e3o sem distin\u00e7\u00e3o de churn: _ = sns . histplot ( x = \"age\" , data = client_tr ) plt . show () Podemos ver que existem algumas pessoas abaixo dos 15 anos, onde a maioria n\u00e3o representou churn ( verifica\u00e7\u00e3o feita no notebook ), mas tamb\u00e9m temos algumas possoas acima dos 100 anos, esses extremos podem precisar de uma segunda investiga\u00e7\u00e3o. Como o G\u00eanero Sexual ( gender ) se comporta em rela\u00e7\u00e3o ao target? _ = sns . countplot ( x = \"gender\" , data = client_tr , hue = \"is_churn\" ) Aparentemente, pessoas de ambos os g\u00eaneros possuem uma distribui\u00e7\u00e3o semelhante a da pr\u00f3pria feature target ( is_churn ). Onde est\u00e1 localizado a maior quantidade de clientes da Magalu? N\u00f3s temos, em todos os datasets fornecidos no desafio, duas vari\u00e1veis de Estado: state : local onde o cliente reside. delivery_state : local de destino da entrega do pedido. # plot configuration fig_size = ( 14 , 6 ) fig , ax = plt . subplots ( figsize = fig_size ) # data df = client_tr [[ \"state\" , \"is_churn\" ]] . value_counts () . reset_index () # alternando entre True e False para o churn _ = sns . barplot ( x = \"state\" , y = 0 , data = df [ df [ \"is_churn\" ] == True ] . sort_values ([ 0 ])) plt . title ( \"States Distribution with Churn = True\" ) plt . show () Nesse primeiro momento, estaremos olhando apenas para state . E, conseguimos ver que existe uma grande concentra\u00e7\u00e3o de clientes no Estado st15 , muito mais que nos Estados subsequentes. Veja tamb\u00e9m que a distribui\u00e7\u00e3o \u00e9 praticamente id\u00eantica considerando apenas casos de churn e n\u00e3o churn . E o estado onde mais entrega? TODO! Podemos dizer algo sobre os m\u00e9todos de pagamentos escolhidos pelos clientes? No nosso dataset de orders , vemos que existem 14 m\u00e9todos de pagamento diferentes, algums sendo mais utilizados que outros. Mas, observando a distribui\u00e7\u00e3o, vemos que existe uma prefer\u00eancia muito grande pelo m\u00e9todo pm5 , sendo consequentemente o maior respons\u00e1vel pela presen\u00e7a de churn. Outros m\u00e9todos de pagamento possuem uma propor\u00e7\u00e3o muito baixa de churn. df = or_pr_cl_df [[ \"payment_method\" , \"is_churn\" ]] . value_counts () . reset_index () fig , ax = plt . subplots ( figsize = fig_dim ) _ = sns . barplot ( x = \"payment_method\" , y = 0 , data = df , hue = \"is_churn\" ) plt . show () source e device possuem um comportamento parecido com os m\u00e9todos de pagamento? Essas duas outras vari\u00e1veis categ\u00f3ricas tamb\u00e9m possuem comportamentos bem caracter\u00edsticos, onde existe a prefer\u00eancia por uma determinada classe e varia\u00e7\u00e3o na distribui\u00e7\u00e3o de churn, o que pode ser interessante para nosso modelo de classifica\u00e7\u00e3o. Source Aqui vemos que o sc08 possui maior prefer\u00eancia de utiliza\u00e7\u00e3o, e tamb\u00e9m \u00e9 respons\u00e1vel por maior concentra\u00e7\u00e3o de churn, tendo uma propor\u00e7\u00e3o bem diferente das outras vari\u00e1veis. _ = sns . countplot ( x = \"source\" , data = or_pr_cl_df , hue = \"is_churn\" , ax = ax ) plt . xlabel ( \"Source\" ) plt . ylabel ( \"Count\" ) plt . show () Device Nessa outra feature, o dv9 \u00e9 o mais utilizado e respons\u00e1vel por maior presen\u00e7a de churn. Particularmente o dv3 tem uma contagem bem alta de n\u00e3o churn, proporcionalmente maior que qualquer outro device. _ = sns . countplot ( x = \"device\" , data = or_pr_cl_df , hue = \"is_churn\" ) plt . xlabel ( \"Device\" ) plt . ylabel ( \"Count\" ) plt . show () Como se d\u00e3o os pedidos em fun\u00e7\u00e3o dos feriados? TODO:","title":"An\u00e1lise Explorat\u00f3ria de Dados"},{"location":"eda/#analise-exploratoria-de-dados","text":"Antes de iniciar, vamos deixar claro o que representa um churn aqui nesse desafio. Churn \u00e9 todo cliente que deixa de comprar na Magalu ap\u00f3s um certo per\u00edodo de tempo. Iremos iniciar nossa an\u00e1lise pelo dataset de treino, por\u00e9m parte dessa an\u00e1lise foi aplicada no dataset de teste no intuito de ver se alguns padr\u00f5es se repetiam, j\u00e1 que a base de teste foi fornecida pelo desafio. Lembrando que o c\u00f3digo completo e os notebooks com todas as EDAs podem ser encontrados no reposit\u00f3rio . Como estamos falando de um problema de classifica\u00e7\u00e3o, vale a pena iniciar a an\u00e1lise entendendo como os dados est\u00e3o balanceados.","title":"An\u00e1lise Explorat\u00f3ria de Dados"},{"location":"eda/#quanto-nosso-dado-esta-desbalanceado","text":"# is_churn proportion df = client_tr [ \"is_churn\" ] . value_counts ( normalize = True ) . reset_index () _ = sns . countplot ( x = \"is_churn\" , data = client_tr ) plt . show () Aqui vemos que nossos dados est\u00e1 numa propor\u00e7\u00e3o de 82% sendo n\u00e3o ocorr\u00eancia de churn, contra 18% que efetivamente deram churn. Esse desbalanceamento pode impactar na etapa de modelagem, sendo assim, uma abordagem interessante seria aplica\u00e7\u00e3o de alguma t\u00e9cnica de balanceamento.","title":"Quanto nosso dado est\u00e1 desbalanceado?"},{"location":"eda/#como-as-idades-estao-distribuidas","text":"Achei mais \u00fatil converter a vari\u00e1vel de data de nascimento ( birthdate ) em idade. Ap\u00f3s fazer essa convers\u00e3o, foi poss\u00edvel observar como a vari\u00e1vel est\u00e1 se comportando em rela\u00e7\u00e3o ao nosso target. # convertendo em idade client_tr [ \"age\" ] = datetime . date . today () . year - client_tr [ \"birthdate\" ] . dt . year # plotting _ = sns . ecdfplot ( x = \"age\" , data = client_tr , hue = \"is_churn\" ) plt . show () Pelas distribui\u00e7\u00f5es, vemos que existe uma maior propor\u00e7\u00e3o de churn em pessoas com idades mais avan\u00e7adas. E essa \u00e9 a distribui\u00e7\u00e3o sem distin\u00e7\u00e3o de churn: _ = sns . histplot ( x = \"age\" , data = client_tr ) plt . show () Podemos ver que existem algumas pessoas abaixo dos 15 anos, onde a maioria n\u00e3o representou churn ( verifica\u00e7\u00e3o feita no notebook ), mas tamb\u00e9m temos algumas possoas acima dos 100 anos, esses extremos podem precisar de uma segunda investiga\u00e7\u00e3o.","title":"Como as idades est\u00e3o distribu\u00eddas?"},{"location":"eda/#como-o-genero-sexual-gender-se-comporta-em-relacao-ao-target","text":"_ = sns . countplot ( x = \"gender\" , data = client_tr , hue = \"is_churn\" ) Aparentemente, pessoas de ambos os g\u00eaneros possuem uma distribui\u00e7\u00e3o semelhante a da pr\u00f3pria feature target ( is_churn ).","title":"Como o G\u00eanero Sexual (gender) se comporta em rela\u00e7\u00e3o ao target?"},{"location":"eda/#onde-esta-localizado-a-maior-quantidade-de-clientes-da-magalu","text":"N\u00f3s temos, em todos os datasets fornecidos no desafio, duas vari\u00e1veis de Estado: state : local onde o cliente reside. delivery_state : local de destino da entrega do pedido. # plot configuration fig_size = ( 14 , 6 ) fig , ax = plt . subplots ( figsize = fig_size ) # data df = client_tr [[ \"state\" , \"is_churn\" ]] . value_counts () . reset_index () # alternando entre True e False para o churn _ = sns . barplot ( x = \"state\" , y = 0 , data = df [ df [ \"is_churn\" ] == True ] . sort_values ([ 0 ])) plt . title ( \"States Distribution with Churn = True\" ) plt . show () Nesse primeiro momento, estaremos olhando apenas para state . E, conseguimos ver que existe uma grande concentra\u00e7\u00e3o de clientes no Estado st15 , muito mais que nos Estados subsequentes. Veja tamb\u00e9m que a distribui\u00e7\u00e3o \u00e9 praticamente id\u00eantica considerando apenas casos de churn e n\u00e3o churn . E o estado onde mais entrega? TODO!","title":"Onde est\u00e1 localizado a maior quantidade de clientes da Magalu?"},{"location":"eda/#podemos-dizer-algo-sobre-os-metodos-de-pagamentos-escolhidos-pelos-clientes","text":"No nosso dataset de orders , vemos que existem 14 m\u00e9todos de pagamento diferentes, algums sendo mais utilizados que outros. Mas, observando a distribui\u00e7\u00e3o, vemos que existe uma prefer\u00eancia muito grande pelo m\u00e9todo pm5 , sendo consequentemente o maior respons\u00e1vel pela presen\u00e7a de churn. Outros m\u00e9todos de pagamento possuem uma propor\u00e7\u00e3o muito baixa de churn. df = or_pr_cl_df [[ \"payment_method\" , \"is_churn\" ]] . value_counts () . reset_index () fig , ax = plt . subplots ( figsize = fig_dim ) _ = sns . barplot ( x = \"payment_method\" , y = 0 , data = df , hue = \"is_churn\" ) plt . show ()","title":"Podemos dizer algo sobre os m\u00e9todos de pagamentos escolhidos pelos clientes?"},{"location":"eda/#source-e-device-possuem-um-comportamento-parecido-com-os-metodos-de-pagamento","text":"Essas duas outras vari\u00e1veis categ\u00f3ricas tamb\u00e9m possuem comportamentos bem caracter\u00edsticos, onde existe a prefer\u00eancia por uma determinada classe e varia\u00e7\u00e3o na distribui\u00e7\u00e3o de churn, o que pode ser interessante para nosso modelo de classifica\u00e7\u00e3o.","title":"source e device possuem um comportamento parecido com os m\u00e9todos de pagamento?"},{"location":"eda/#source","text":"Aqui vemos que o sc08 possui maior prefer\u00eancia de utiliza\u00e7\u00e3o, e tamb\u00e9m \u00e9 respons\u00e1vel por maior concentra\u00e7\u00e3o de churn, tendo uma propor\u00e7\u00e3o bem diferente das outras vari\u00e1veis. _ = sns . countplot ( x = \"source\" , data = or_pr_cl_df , hue = \"is_churn\" , ax = ax ) plt . xlabel ( \"Source\" ) plt . ylabel ( \"Count\" ) plt . show ()","title":"Source"},{"location":"eda/#device","text":"Nessa outra feature, o dv9 \u00e9 o mais utilizado e respons\u00e1vel por maior presen\u00e7a de churn. Particularmente o dv3 tem uma contagem bem alta de n\u00e3o churn, proporcionalmente maior que qualquer outro device. _ = sns . countplot ( x = \"device\" , data = or_pr_cl_df , hue = \"is_churn\" ) plt . xlabel ( \"Device\" ) plt . ylabel ( \"Count\" ) plt . show ()","title":"Device"},{"location":"eda/#como-se-dao-os-pedidos-em-funcao-dos-feriados","text":"TODO:","title":"Como se d\u00e3o os pedidos em fun\u00e7\u00e3o dos feriados?"},{"location":"metrics/","text":"M\u00e9tricas Tabela de Resultados dos Modelos Model Precision Recall Accuracy AUC F1 Time (s) :fontawesome-regular-laugh-wink: baseline NAN NAN NAN NAN NAN NAN","title":"M\u00e9tricas"},{"location":"metrics/#metricas","text":"","title":"M\u00e9tricas"},{"location":"metrics/#tabela-de-resultados-dos-modelos","text":"Model Precision Recall Accuracy AUC F1 Time (s) :fontawesome-regular-laugh-wink: baseline NAN NAN NAN NAN NAN NAN","title":"Tabela de Resultados dos Modelos"}]}